<ion-header no-border>
    <ion-toolbar color="dark">
        <ion-buttons slot="start">
            <ion-menu-button menu="main-menu"></ion-menu-button>
        </ion-buttons>
        <ion-title>Servicios ceranos</ion-title>

        <ion-buttons slot="end">
            <ion-back-button color="light">
                <!-- <ion-icon slot="start" name="arrow-back-outline"></ion-icon> -->
                <!-- Salir -->
            </ion-back-button>
        </ion-buttons>

    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-list *ngIf="!loading" style="background: rgba(255, 255, 255, 0.2);" class="animated fadeIn">
        <ion-list-header>
            <ion-label>Buscando servicio de taxi</ion-label>
            <ion-button>See All</ion-button>
        </ion-list-header>

        <ion-card *ngFor="let ts of dataServices">
            <ion-card-header color="primary">
                <ion-card-title>

                    <ion-item color="primary">
                        <ion-label>
                            {{ ts.aliasCategory }}&nbsp;
                            <small>{{ ts.distanceText }} - {{ ts.minutesText }}</small>
                        </ion-label>
                        <ion-button slot="end" fill="clear" shape="round" color="light">
                            <ion-icon slot="icon-only" name="close-outline"></ion-icon>
                        </ion-button>
                    </ion-item>

                </ion-card-title>
            </ion-card-header>

            <ion-card-content>
                <ion-grid fixed>
                    <ion-row>
                        <ion-col size="4">
                            <img [src]=" pathImg + ts.img + '?token=' + st.token " alt="Raised Image" class="rounded-circle img-raised" style="height: 80px;">
                        </ion-col>
                        <ion-col size="8">
                            <ion-grid fixed>
                                <ion-row>
                                    <ion-col size="3">
                                        <!--  -->
                                        <button class="btn btn-outline-danger btn-round" (click)="onMinusRate(ts)">
                                            <i class="fa fa-minus" aria-hidden="true"></i>
                                        </button>
                                    </ion-col>
                                    <ion-col size="6">
                                        <h1 class="text-rate text-center">
                                            {{ ts.rateOffer | number:'.2-2' }}
                                        </h1>
                                    </ion-col>
                                    <ion-col size="3">
                                        <!--  -->
                                        <button class="btn btn-outline-success btn-round" (click)="onPlusRate(ts)">
                                            <i class="fa fa-plus" aria-hidden="true"></i>
                                        </button>
                                    </ion-col>
                                </ion-row>
                            </ion-grid>

                        </ion-col>
                    </ion-row>

                    <ion-row>
                        <ion-col size="12">


                            <div class="row">
                                <div class="col-12 text-center">
                                    <p>
                                        {{ ts.nameComplete }}
                                    </p>
                                </div>
                                <div class="col-12 text-center">

                                    <p>
                                        <b>De</b>&nbsp;{{ ts.streetOrigin }},&nbsp;<b>hasta</b> {{ ts.streetDestination }}.
                                    </p>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-6 text-center">
                                    <!-- (click)="onShowConfirm( vh.pkVehicle )" -->
                                    <ion-button fill="clear" shape="round" (click)="onAcceptOffer( ts )">
                                        Aceptar
                                    </ion-button>
                                </div>
                                <div class="col-6 text-center">
                                    <!-- (click)="onShowConfirm( vh.pkVehicle )" -->
                                    <ion-button fill="clear" shape="round" [disabled]="!ts.changeRate" (click)="onNewOffer( ts )">
                                        Ofertar
                                    </ion-button>
                                </div>
                            </div>
                        </ion-col>
                    </ion-row>
                </ion-grid>
            </ion-card-content>
        </ion-card>

    </ion-list>

    <ion-list *ngIf="loading">

        <ion-card *ngFor="let item of [1,1,1]">
            <ion-card-header>
                <ion-card-subtitle>
                    <ion-item>
                        <ion-skeleton-text animated style="width: 70%"></ion-skeleton-text>

                        <ion-skeleton-text slot="end" animated style="width: 20%"></ion-skeleton-text>
                    </ion-item>

                </ion-card-subtitle>
                <!-- <ion-card-title>Awesome Title</ion-card-title> -->
            </ion-card-header>

            <ion-card-content>
                <ion-grid fixed>
                    <ion-row>
                        <ion-col size="6">
                            <ion-skeleton-text animated style="width:50%; height: 80px;" class="rounded-circle img-raised"></ion-skeleton-text>

                        </ion-col>
                        <ion-col size="6">
                            <div class="row">
                                <div class="col-12">
                                    <ion-skeleton-text animated style="width:50%;"></ion-skeleton-text>
                                </div>

                                <div class="col-12">
                                    <ion-skeleton-text animated style="width:50%;"></ion-skeleton-text>
                                </div>

                                <div class="col-12">
                                    <ion-skeleton-text animated style="width:50%;"></ion-skeleton-text>
                                </div>
                            </div>
                        </ion-col>
                    </ion-row>
                </ion-grid>
            </ion-card-content>
        </ion-card>

    </ion-list>
</ion-content>